<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercici 1.1: Arrow functions</title>
</head>
<body>

    <h1>Exercici 1.1: Arrow functions</h1>
    <p>Conversió de funcions: <br>
       Tens una funció add que accepta dos paràmetres i retorna la seva suma. <br>
       Converteix-la en una funció de fletxa. Per exemple: function add(a, b) {return a + b;}.
    </p>

    <h1>Exercici 1.2: Funció de fletxa sense paràmetres:</h1>
       <p>Funció de fletxa sense paràmetres: <br>
        Crea una funció de fletxa anomenada randomNumber que no necessiti paràmetres <br>
        i que retorni un número aleatori entre 0 i 100.</p>

    <h1>Exercici 1.3: Ús de 'this' en les funcions de fletxa: </h1>
    <p>Ús de 'this' en les funcions de fletxa: <br>
        Crea una classe person que tingui una propietat name i una funció greet que utilitzi <br>
        una funció de fletxa. La funció ha d'imprimir una salutació que inclogui el nom de la persona. <br>
        Per exemple: console.log(Hola, ${this.name});.</p>

        <h1>Funció fletxa dins d'un loop</h1>
        <p>Funció de fletxa dins d'un loop: <br>
            Crea una funció anomenada printNumbers que accepti un <br>array de números i utilitzi un loop for per imprimir <br> cada número a la consola utilitzant una funció de fletxa.</p>
    
        <h1>Funció de fletxa amb 'setTimeout'</h1>
        <p>Crea una funció de fletxa que imprimeixi un missatge a la consola després d'esperar 3 segons.</p>

        <h1>Operador ternari bàsic</h1>
        <p>: Escriu una funció potConduir que accepti l'edat com a paràmetre i utilitzi l'operador <br>ternari per determinar si l'usuari pot conduir. Si l'edat és 18 o més, ha de retornar '<br>Pots conduir'. Si no, ha de retornar 'No pots conduir'</p>

        <h1>Ús amb operadors de comparació</h1>
        <p>Escriu una expressió que utilitzi l'operador ternari per determinar quin dels dos nombres <br> donats (num1 i num2) és més gran. Si num1 és més gran, retorna 'num1 és més gran'. <br>Si no, retorna 'num2 és més gran'.</p>

        <h1>Operador ternari dins un bucle</h1>
        <p>Escriu una funció parOImpar que accepti un array de números i utilitzi un bucle per a <br>recórrer l'array. Dins del bucle, utilitza l'operador ternari per a determinar si <br>cada número és parell o imparell.</p>

        <h1>Ús enllaçat d'operadors ternaris</h1>
        <p>Escriu una expressió que utilitzi enllaços d'operadors ternaris <br> per determinar si un número és positiu, negatiu o zero.</p>

        <h1>Operador ternari amb funcions</h1>
        <p>Crea una funció trobarMaxim que accepti tres paràmetres (a, b, c) i utilitzi l'operador ternari per determinar el valor màxim.</p>

        <h1>Callback bàsic:</h1>
        <p>Escriu una funció anomenada processar que <br>accepti dos paràmetres: un nombre i una funció de callback. <br>La funció processar ha d'invocar la funció de callback, <br>passant el nombre com a paràmetre.</p>

        <h1>Callbacks amb operacions matemàtiques:</h1>
        <p>Escriu una funció calculadora que accepti tres paràmetres: dos nombres i una funció de callback. <br>La funció calculadora ha d'invocar la funció de callback amb els dos nombres com a paràmetres. <br>Després, crida calculadora amb una funció que faci la suma dels dos nombres.</p>

        <h1>Ús de callbacks en funcions asíncrones:</h1>
        <p> Escriu una funció esperarISaludar que accepti dos paràmetres: un nom i una funció de callback. <br>La funció ha d'esperar 2 segons i llavors invocar la funció de callback, passant el nom com a paràmetre.</p>

        <h1>Escriu una funció processarCadena.</h1>
        <p>que accepti dos paràmetres: una cadena de caràcters i una funció de callback. La funció processarCadena ha de convertir la cadena a majúscules i llavors invocar la funció de callback amb la cadena transformada</p>

        <h1>Operador Spread en Arrays</h1>
        <p>Crea dues arrays, array1 i array2. Utilitza l'operador spread per a crear una tercera array que contingui tots els elements de array1 i array2.</p>

        <h1>Operador Rest en Funcions</h1>
        <p>Crea una funció 'suma' que utilitzi l'operador rest per a acceptar un nombre indeterminat d'arguments i retornar la seva suma.</p>

        <h1>Copiant objectes amb Spread</h1>
        <p>Crea un objecte 'objecte1'. Després crea un segon objecte, 'objecte2', que sigui una còpia de 'objecte1' utilitzant l'operador spread. Canvia una propietat de 'objecte2' i comprova que 'objecte1' no ha canviat.</p>

        <h1>Rest en Destructuring</h1>
        <p>Crea una array amb diversos elements. Utilitza destructuring i l'operador rest per a assignar els primers dos elements a variables, i després assignar la resta dels elements a una tercera variable.</p>

        <h1>Spread en Funcions</h1>
        <p>Crea una funció que accepti tres arguments. Després, crea una array amb tres elements i crida la funció utilitzant l'operador spread amb aquesta array.</p>

        <h1>Fusionant Objectes amb Spread</h1>
        <p>Crea dos objectes amb propietats diferents. Utilitza l'operador spread per a fusionar aquests dos objectes en un de nou.</p>

        <h1>Map</h1>
        <p>Teniu un array de números [1, 2, 3, 4]. Crea una nova array que contingui el quadrat de cada número</p>

        <h1>Filter</h1>
        <p>Teniu una array de números [1, 2, 3, 4]. Crea una nova array que només contingui els números parells</p>

        <h1>Find</h1>
        <p>Teniu una array de números [1, 10 , 8, 11]. Utilitza la funció find per a trobar el primer número que és major a 10.</p>

        <h1>Reduce</h1>
        <p>Teniu una array de números [13, 7, 8, 21]. Fes servir la funció reduce per a calcular la suma total dels números.</p>

        <h1>Exercici 5 Nivell 2</h1>
        <p>Donat un array "[ 1, 3, 7, 10 ,15, 17, 11, 5, 8, 12, 9 ]", <br>crea una funció en una sola línia que faci el següent: <br>

            - Filtra els nombres majors o iguals a 10. <br>
            
            - Multiplica cada nombre filtrat per 2. <br>
            
            - Calcula la suma dels nombres filtrats i multiplicats per 2. <br>
            
            - La funció ha de retornar el resultat de la suma.</p>

        <h1>Every / Some</h1>
        <p>Usa every i some per a determinar si tots o alguns dels elements de l'array [11, 12, 13, 14] són majors que 10, respectivament</p>

        <h1>forEach</h1>
        <p>Teniu una array de noms. Utilitza forEach per a imprimir cada nom a la consola: let noms = ['Anna', 'Bernat', 'Clara'];</p>

        <h1>for-of</h1>
        <p>Teniu una array de noms. Utilitza un bucle for-of per a imprimir cada nom a la consola: let noms = ['Anna', 'Bernat', 'Clara'];</p>

        <h1>filter</h1>
        <p>Teniu una array de números. Utilitza filter per a crear una nova array que només contingui els números parells. let numeros = [1, 2, 3, 4, 5, 6];</p>

        <h1>for-in</h1>
        <p>Teniu un objecte amb parells clau-valor: let obj = { nom: Ona, edat: 25, ciutat: 'Barcelona' }; Utilitza un bucle for-in per a imprimir a la consola cada clau i el seu valor corresponent.</p>

        <h1>for-of amb break</h1>
        <p>Teniu una array de números. Utilitza un bucle for-of per a imprimir a la consola els números fins a trobar el número 5, llavors atura el bucle: let numeros = [1, 2, 3, 4, 5, 6];</p>
        <h1>for-of amb index</h1>
        <p>Utilitza un bucle for-of per a imprimir a la consola cada element de l'array i la seva posició (index): let noms = ['Anna', 'Bernat', 'Clara']</p>

        <h1>Creació d'una Promesa</h1>
        <p>Crea una promesa que es resolgui després de 2 segons i que retorni la cadena de text 'Hola, món'.</p>

        <h1>Utilització d'una Promesa</h1>
        <p>Utilitza la promesa creada en l'exercici anterior. Crea un .then que imprimeixi el resultat a la consola.</p>

        <h1>Promesa amb reject</h1>
        <p>Crea una promesa que es resolgui després de 2 segons si l'input és igual a 'Hola', i que la rebutgi si l'input és qualsevol altra cosa.</p>

        <h1>Ús de async/await</h1>
        <p>Escriu una funció asíncrona que utilitzi la funció await per a esperar el resultat de la promesa creada a l'exercici 1, i que després imprimeixi aquest resultat a la consola.</p>

        <h1>Gestió d'errors amb async/await</h1>
        <p> Modifica la funció de l'exercici 4 per a que capturi qualsevol possible error utilitzant un bloc try/catch.</p>

        <h1>Promise.all</h1>
        <p>Crea dues promeses que es resolguin després de 2 i 3 segons, respectivament. Utilitza Promise.all per a esperar que ambdues promeses es resolguin, i imprimeix els resultats a la consola.</p>
    

        <p>Veure en la consola!</p>

    <script>
        //Función declarada tradicional
        function suma(a, b) {
            return a + b;
        }
        //Función Arrow expressada 
        const sumaArrow = (a, b) => a + b;

        //Veure amdues a la consola
        console.log("Resultat función tradicional: " + suma(2, 3));
        console.log("Resultat funcio ARROW: " + sumaArrow(2, 3));   

        //Funció Arrow Math.random sense paràmetres
        const randomNumber = () => Math.floor(Math.random() * 100);
        console.log("Número aleatori entre el 0 i el 100. Arrodonit a la baixa: " + randomNumber());

       //Ús de 'this' en las funcions flecha:
       class Person {
       constructor(name) {
       this.name = name;
       }
       greet = () => console.log("Hola, " + this.name);
       }   
       const persona = new Person("Maydo");
       persona.greet();
       

       //Funció de fletxa dins d'un loop
       const printNumbers = (numbers) => {
        for (let i = 0; i < numbers.length; i++) {
            const print = (numero) => console.log(numero);
            print(numbers[i]);
        }
        }; 
        const numeros = [1, 2, 3, 4, 5];
        printNumbers(numeros);
    
        //Funció de fletxa amb 'setTimeout'
        setTimeout(() => {
            console.log("Hola, aquest és un missatge que s'ha imprès després de 3 segons");
        }, 3000);

        //Operador ternari bàsic
        const potConduir = (age) => age >= 18 ? "pots conduir" : "no pots conduir";
        console.log("En el teu cas: " + potConduir(18));

        //Ús amb operadors de comparació
        let num1 = 30;
        let num2 = 20;
        const comparar = (num1, num2) => num1 > num2 ? "el num1 és més gran" : "El num2 és més gran";
        console.log(comparar(num1, num2));

        //Operador ternari dins un bucle
        const parOImpar = (numeros) => {
            let resposta;
            for (let i = 0; i < numeros.length; i++) {
                resposta = (numeros[i] % 2 == 0) ? `El número ${numeros[i]} és parell` : `El número ${numeros[i]} és senar`;
                console.log(resposta);
            }
            }    
        const array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
        parOImpar(array);

        //Ús enllaçat d'operadors ternaris
        const posNegZero = (num) => num > 0 ? "Positiu" : num < 0 ? "Negatiu" : "Zero";
        console.log(posNegZero(0));

        //Operador ternari amb funcions
        const trobarMaxim = (a, b, c) => (a > b && a > c) ? "El valor màxim és el " + a : (b > a && b > c) ? "El valor màxim és el  " + b : "El valor màxim és el " + c;
        console.log(trobarMaxim(10, 5, 2));

        //Callback bàsic
        function processar(numero, callback) {
            callback(numero);
        }
        processar(1984, (numero) => console.log(numero));

        //Callbacks amb operacions matemàtiques
        const calculadora = (a, b, callback) => callback(a, b); 
        const sumar = (a, b) => (a + b);
        console.log(calculadora(1000, 984, sumar));

        // Escriu una funció esperarISaludar que accepti dos paràmetres
        function esperarISaludar(nom, callback) {
            setTimeout(() => callback(nom), 2000);
        }
        esperarISaludar("Maydo", (nom) => console.log("Hola, " + nom));

        //Escriu una funció processarCadena
        function processarCadena(cadena, callback) {
            callback(cadena.toUpperCase());
        }
        processarCadena("tanto tienes tanto vales no se puede remediar", (cadena) => console.log(cadena));

        //Operador spread
        const array1 = [1, 2, 3];
        const array2 = [4, 5, 6];
        const array3 = [...array1, ...array2];
        console.log(`Array 3 amb tots els elements --> ${array3.join(", ")}`);

        //: Funció 'suma' que utilitzi l'operador rest
        function suma(...numeros) {
            let suma = 0;
            for (let i = 0; i < numeros.length; i++) {
                suma += numeros[i];
            }
            return suma;
        }
        console.log(suma(1, 2, 3, 4, 5, 6, 7, 8, 9, 10));

        //Copiant objectes amb Spread i canviar una propietat
        const objecte1 = {
            propietat1: 1,
            propietat2: 2
        };
        const objecte2 = {...objecte1};
        objecte2.propietat2 = 3;
        console.log(objecte1);
        console.log(objecte2);

        //Rest en Destructuring
        const array4 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
        const [primero, segundo, ...resto] = array4;
        console.log(primero, segundo, resto);

        //Spread en Funcions
        function crearArray(argument1, argument2, argument3) {
            return [argument1, argument2, argument3];
        }
        const array5 = [1, 2, 3];
        console.log(crearArray(...array5));  

        //O també
        function crearArray(argument1, argument2, argument3) {
        console.log(`Los argumentos son: ${argument1}, ${argument2} y ${argument3}`);
        }
         const array6 = [1, 2, 3];
        crearArray(...array6); 

        //Fusionant Objectes amb Spread
        const objecte3 = {
            propietat1: 1,
            propietat2: 2
        };
        const objecte4 = {
            propietat3: 3,
            propietat4: 4
        };
        const objecte5 = {...objecte3, ...objecte4};
        console.log(objecte5);

        //Mètode Map: 
        const array7 = [1, 2, 3, 4];
        const array8 = array7.map((numero) => numero * numero);
        console.log(`Una nova array amb tots els números de la primera array al quadrat --> ${array8.join(", ")}`);

        //Mètode Filter
        const array9 = [1, 2, 3, 4];
        const array10 = array9.filter((numero) => numero % 2 === 0);
        console.log(`Una nova array amb els nombres parells de la primera array --> ${array10}`);   

        //Mètode Find
        const array11 = [1, 10, 8, 11];
        let numeroMayor10 = array11.find((numero) => numero > 10);
        console.log("El primer número major a 10 de la array es: " + numeroMayor10);

        //Reduce: Teniu una array de números [13, 7, 8, 21]. Fes servir la funció reduce per a calcular la suma total dels números.
        const array12 = [13, 7, 8, 21];
        let sumaTotal = array12.reduce((suma, numero) => suma + numero, 0);
        console.log("La suma total de la array es: " + sumaTotal);

        /*Exercici 5 Nivell 2*/
        const array21 = [1, 3, 7, 10, 15, 17, 11, 5, 8, 12, 9];
         const resultatSuma = array21.filter(numero => numero >= 10).map(numero => numero * 2).reduce((a, b) => a + b, 0);
         console.log(`El resultat de la suma es: ${resultatSuma}`);

        //Mètode Every
        const array13 = [11, 12, 13, 14];
        const array14 = array13.every((numero) => numero > 10);
        let resposta = array14 ? "Sí" : "No";
        console.log("Tots els elements de la array son majors que 10? " + resposta);

        //Mètode Some
        const array15 = [11, 12, 13, 14];
        const array16 = array15.some((numero) => numero > 10);
        let resposta2 = array16 ? "Sí" : "No";
        console.log("Algun dels elements de la array son majors que 10? " + resposta2);

        //Mètode forEach;
        const array17 = ['Anna', 'Bernat', 'Clara'];
        array17.forEach((nom) => console.log(nom));

        //Bucle for-of 
        const array18 = ['Anna', 'Bernat', 'Clara'];
        for (const nom of array18) {
            console.log(nom);
        }

        //Mètode filter
        const array19 = [1, 2, 3, 4, 5, 6];
        const array20 = array19.filter((numero) => numero % 2 === 0);
        console.log(`Una nova array amb els nombres parells de la primera array --> ${array20}`);

        //for-in
        let personaObjecte = { nom: "Ona", edat: 25, ciutat: "Barcelona" };
        for (const clau in personaObjecte) {
            console.log(clau, personaObjecte[clau]);
        }

        //for-of amb break
        const array22 = [1, 2, 3, 4, 5, 6];
        for (const numero of array22) {
            if (numero === 5) {
                break;
            }
            console.log(numero);
        }

        //for-of amb index
        let nombres = ['Anna', 'Bernat', 'Clara'];
        let index = 0;
        for (const nombre of nombres) {
        console.log(nombre, index);
        index++;
        }

        //Creació d'una Promesa:
        const promise = new Promise((resolve, reject) => {
            setTimeout(() => resolve('Hola, món'), 2000);
        });

        //Utilització d'una Promesa (la anterior):
        promise.then((missatge) => console.log(missatge));

        //Promesa amb reject:
        const promise2 = new Promise((resolve, reject) => {
            const input = prompt('Introdueix la paraula clau');
            if (input === 'Hola') {
                resolve("'Hola' és la paraula correcta, enhorabona");
            } else {
                reject("Error, aquesta no és la paraula correcta ");
            }
        });
        //Utilització de la Promesa amb then i catch:
        promise2
            .then((missatge) => console.log(missatge))
            .catch((missatge) => console.log(missatge));

        //Ús de async/await:
        async function promise3() {
            const resultat = await promise;
            console.log(resultat);
        }
        promise3();

        //Gestió d'errors amb async/await utilitzant try/catch (promise)
        async function promise4() {
            try {
                const resultat = await promise;
                console.log(resultat);
            } catch (error) {
                console.log(error);
            }
        }
        promise4();
        
        //Gestió d'errors amb async/await utilitzant try/catch (promise2)
        async function promise5() {
            try {
                const resultat = await promise2;
                console.log(resultat);
            } catch (error) {
                console.log(error); 
            }
        }
        promise5();
        
        //Promise.all: Crea dues promeses que es resolguin després de 2 i 3 segons, respectivament. Utilitza Promise.all per a esperar que ambdues promeses es resolguin, i imprimeix els resultats a la consola.
        const promise6 = new Promise((resolve, reject) => {
            setTimeout(() => resolve("Se resuelve después de 2 segundos usando Promise.all \n"), 2000);
        });
        const promise7 = new Promise((resolve, reject) => {
            setTimeout(() => resolve("Se resuelve después de 3 segundos usando Promise.all"), 3000);
        });
        Promise.all([promise6, promise7]).then(([resultat1, resultat2]) => {
            console.log(resultat1, resultat2);
        });     

        
        

        

 











    </script>    

</body>
</html>